/*! prime_solo_fs_01 2015-08-28 */
function getShipping(a){$.ajax({type:"GET",dataType:"json",url:"/shipping"}).done(function(b){var c=b;a.forEach(function(a){var b;console.log(a),c.forEach(function(c){a.id==c.customerId?(b=!1,a.shippingAddress=c.addressLine1+" "+c.addressLine2):b=!0,console.log(a)}),b?getBilling(a,a.id):(console.log(a.shippingAddress),getBilling(a,a.id))})})}function getBilling(a,b){var c="/billing/"+b;$.ajax({type:"GET",dataType:"json",url:c}).done(function(b){a.billingAddress=b.addressLine1+" "+b.addressLine2,a.shippingAddress||(a.shippingAddress=a.billingAddress),displayCustomer(a)})}function displayCustomer(a){var b=$("<ul>"),c=$("<li>"),d=$("<p>"),e=$("<li>"),f=$("<li>"),g=$("#customers");g.append(c);var h=g.children().last();h.append(d);var i=h.children().last();i.text(a.firstName+" "+a.lastName),h.append(b);var j=h.children().last();j.append(e),j.append(e);var k=j.children().last();k.text("Shipping Address: "+a.shippingAddress),j.append(f);var l=j.children().last();l.text("Billing Address: "+a.billingAddress)}$(document).ready(function(){$.ajax({type:"GET",dataType:"json",url:"/customers"}).done(function(a){getShipping(a)})});